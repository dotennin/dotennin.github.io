/*!
 * Copyright (c) 2018 Rakuten.Inc
 * Date: 2018-11-20 15:06:07
 */
!function(t){var i={};function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";!function(t){void 0!==t&&t(function(){var i,e=function(i){this.chatId=i,this.doSend=function(i,e){var a,n,h,o,s,c={};if(e&&window.RAT&&"function"==typeof RAT.addCustomEvent){if(!0!==(a=new function(){this.isItemUrl=!1,this.isCategory=!1,this.url=t(location).attr("href"),!0===/^https?:\/\/item\.rakuten\.co\.jp\//.test(this.url)&&(this.isItemUrl=!0),!0===this.isItemUrl&&!0===/^https?:\/\/item\.rakuten\.co\.jp\/[^/]+\/c\/.*$/.test(this.url)&&(this.isCategory=!0),this.getShopUrl=function(){var t;return!0!==this.isItemUrl?"":(t=this.url.match(/^https?:\/\/item\.rakuten\.co\.jp\/([^/]+)\/[^/]+\/.*$/))&&2===t.length?t[1]:""},this.getItemNumber=function(){var t;return(t=!0===this.isCategory?this.url.match(/^https?:\/\/item\.rakuten\.co\.jp\/[^/]+\/c\/([^/]+)\/.*$/):this.url.match(/^https?:\/\/item\.rakuten\.co\.jp\/[^/]+\/([^/]+)\/.*$/))&&2===t.length?t[1]:""}}).isItemUrl)return;if(c.accountId=1246,c.serviceId=1,c.eventType=i,n="item",!0===a.isCategory&&(n="item_category"),0===(h=a.getItemNumber()).length)return;if(0===(o=a.getShopUrl()).length)return;c.pData={pgn:n,pgl:"pc",ino:h,shopurl:o},(s=this.chatId)||(s=""),c.cpData={chatid:s,chatst:e},c.options=["url","ua"],RAT.addCustomEvent(c)}}},a={window_loaded:!1};t(window).load(function(){var n=t(".chat_widget"),h=n.children('input[name="shop_id"]').val(),o=n.children('input[name="shop_name"]').val(),s=n.children('input[name="item_id"]').val(),c=n.children('input[name="item_name"]').val(),d=n.children('input[name="item_number"]').val(),r=n.children('input[name="shopurl"]').val(),l=n.children('input[name="pageurl"]').val(),g=new function(){this.checkShopId=function(t){return void 0!==t&&!1!==/^[1-9][0-9]*$/.test(t)},this.checkShopName=function(t){return void 0!==t}},u=new function(){this.data={},this.getData=function(t){return this.data[t]},this.setData=function(t,i){this.data[t]=i}};!0===g.checkShopId(h)&&!0===g.checkShopName(o)&&((i=new function(i){this.ctrlStatus={init:!1,first_exec:!1},this.chatWidget=i,this.inputData,this.badgeWindow,this.chatWindow,this.widgetData,this.privacyPolicy,this.chatUser,this.imageUrlList,this.chatConnection,this.chatStatus,this.getCtrlStatus=function(){return this.ctrlStatus},this.getChatWidget=function(){return this.chatWidget},this.getInputData=function(){return this.inputData},this.getBadgeWindow=function(){return this.badgeWindow},this.getWidgetData=function(){return this.widgetData},this.getChatWindow=function(){return this.chatWindow},this.getPrivacyPolicy=function(){return this.privacyPolicy},this.getChatUser=function(){return this.chatUser},this.getImageUrlList=function(){return this.imageUrlList},this.getChatConnection=function(){return this.chatConnection},this.getChatStatus=function(){return this.chatStatus},this.setCtrlStatusInit=function(t){this.ctrlStatus.init=t},this.setCtrlStatusFirstExec=function(t){this.ctrlStatus.first_exec=t},this.setInputData=function(t){this.inputData=t},this.setBadgeWindow=function(t){this.badgeWindow=t},this.setChatWindow=function(t){this.chatWindow=t},this.setWidgetData=function(t){this.widgetData=t},this.setPrivacyPolicy=function(t){this.privacyPolicy=t},this.setChatUser=function(t){this.chatUser=t},this.setImageUrlList=function(t){this.imageUrlList=t},this.setChatConnection=function(t){this.chatConnection=t},this.setChatStatus=function(t){this.chatStatus=t},this.doInit=function(){var i=this.getChatWidget(),e=this.getBadgeWindow(),a=this.getChatWindow(),n=this.getWidgetData(),h=this.getInputData(),o=this.getPrivacyPolicy(),s=this.getChatUser(),c=this.getImageUrlList(),d=this.getChatConnection(),r=this.getChatStatus();i.append('<style type="text/css">@-webkit-keyframes rchatspin {  0% {-webkit-transform: rotate(0deg);}  100% {-webkit-transform: rotate(360deg);}}@keyframes rchatspin {  0% {transform: rotate(0deg);}  100% {transform: rotate(360deg);}}</style><input type="hidden" id="chat_widget_viewstatus_id" name="chat_widget_firstview_flag" value=""><input type="hidden" id="chat_widget_chatstart_event_id" name="chat_widget_chatstart_event" value=""><input type="hidden" id="chat_widget_newchat_event_id" name="chat_widget_newchat_event" value=""><input type="hidden" id="chat_widget_chatconnecting_event_id" name="chat_widget_chatconnecting_event" value=""><input type="hidden" id="chat_widget_chatconnecting_success_id" name="chat_widget_chatconnecting_success" value=""><input type="hidden" id="chat_widget_chatconnecting_failure_id" name="chat_widget_chatconnecting_failure" value=""><input type="hidden" id="chat_widget_chatconnecting_timeout_id" name="chat_widget_chatconnecting_timeout" value="">'),this.doChangeChatStatus(r.get("status")),s.setChatInfo("subject",t(location).attr("href")),e.setChatWidget(i),e.setWidgetData(n),e.setInputData(h),e.setImageUrlList(c),e.doInit(),a.setChatWidget(i),a.setWidgetData(n),a.setInputData(h),a.setPrivacyPolicy(o),a.setChatUser(s),a.setImageUrlList(c),a.setChatConnection(d),a.doInit(),this.chatWidget.children("#chat_widget_viewstatus_id").bind("change",{chat_widget_controller:this},function(t){var i=t.data.chat_widget_controller,e=i.badgeWindow,a=i.chatWindow,n=i.chatWidget.children("#chat_widget_viewstatus_id").val().split("-"),h=n[0],o=n[1],s=!1;"true"===n[2]&&(s=!0),i.doChangeChatStatus(o),"badge"===h?(a.doHide(),e.doShow()):"chat"===h?(e.doHide(),a.doShow(s)):(a.doHide(),e.doShow())}),this.chatWidget.children("#chat_widget_chatstart_event_id").bind("change",{chat_widget_controller:this},function(t){var i=t.data.chat_widget_controller,e=i.getBadgeWindow(),a=i.getChatWindow(),n=i.getChatStatus();i.doChangeChatStatus(n.get("status")),e.doHide(),a.doStartChat()}),this.chatWidget.children("#chat_widget_newchat_event_id").bind("change",{chat_widget_controller:this},function(t){var i=t.data.chat_widget_controller,e=i.getBadgeWindow(),a=i.getChatWindow(),n=i.chatWidget.children("#chat_widget_viewstatus_id").val().split("-")[1];i.doChangeChatStatus(n),e.doHide(),a.doReloadChat()}),this.chatWidget.children("#chat_widget_chatconnecting_event_id").bind("change",{chat_widget_controller:this},function(t){var i=t.data.chat_widget_controller,e=(i.getChatWidget().children("#chat_widget_chatconnecting_event_id"),i.getChatConnection());i.doConnectingCheck({chat_connection:e})}),this.chatWidget.children("#chat_widget_chatconnecting_success_id").bind("change",{chat_widget_controller:this},function(t){var i=t.data.chat_widget_controller,e=i.getChatWidget(),a=i.getBadgeWindow(),n=i.getChatWindow(),h=i.getChatConnection(),o=e.children("#chat_widget_chatconnecting_success_id").val();"running"===h.getStatus("status")&&(clearInterval(h.getStatus("id")),h.setStatus("status","finish")),h.doIncrementCount(),i.doChangeChatStatus(o),a.doHide(),n.doShow(!0)}),this.chatWidget.children("#chat_widget_chatconnecting_failure_id").bind("change",{chat_widget_controller:this},function(t){var i=t.data.chat_widget_controller,e=i.getChatWidget(),a=i.getChatWindow(),n=i.getChatConnection(),h=e.children("#chat_widget_chatconnecting_failure_id").val();"running"===n.getStatus("status")&&(clearInterval(n.getStatus("id")),n.setStatus("status","finish")),n.doIncrementCount(),i.doChangeChatStatus(h),a.doShowChatConnectiongFailure()}),this.chatWidget.children("#chat_widget_chatconnecting_timeout_id").bind("change",{chat_widget_controller:this},function(t){var i=t.data.chat_widget_controller,e=i.getChatWidget(),a=i.getChatWindow(),n=i.getChatConnection(),h=e.children("#chat_widget_chatconnecting_timeout_id").val();n.getConfig("interval")*n.getStatus("count")<n.getConfig("timeout")?n.doIncrementCount():("running"===n.getStatus("status")&&(clearInterval(n.getStatus("id")),n.setStatus("status","timeout")),i.doChangeChatStatus(h),a.doShowChatConnectingTimeout())}),this.setCtrlStatusInit(!0)},this.doExecute=function(i){var a,n=this.getChatWidget(),h=this.getWidgetData(),o=this.getInputData(),s=this.getChatStatus(),c=this.getCtrlStatus();!0===i.use_api?(a=h.getData("api_url")+"&shopId="+encodeURIComponent(o.getData("shop_id")),t.ajax({url:a,type:"GET",scriptCharaset:"utf-8",dataType:"json",cache:!1,timeout:5e3,context:{chat_widget:n,window_type:i.window_type,rat_info:i.rat_info,chat_status:s},success:function(t){var i=this.chat_widget,a=this.window_type,n=this.rat_info,h=this.chat_status;t?t.status&&t.endpoint&&t.uid?(h.set("status",t.status),h.set("chatid",t.uid),h.set("endpoint",t.endpoint)):(t.status?h.set("status",t.status):h.set("status","error"),h.set("chatid",""),h.set("endpoint","")):(h.set("status","error"),h.set("chatid",""),h.set("endpoint","")),i.children("#chat_widget_viewstatus_id").val(a+"-"+h.get("status")).change(),n&&!0===n.send&&new e(h.get("chatid")).doSend(n.operation,h.get("status"))},error:function(){var t=this.chat_widget,i=this.window_type,a=this.rat_info,n=this.chat_status;n.set("status","error"),n.set("chatid",""),n.set("endpoint",""),t.children("#chat_widget_viewstatus_id").val(i+"-"+n.get("status")).change(),a&&!0===a.send&&new e(n.get("chatid")).doSend(a.operation,n)}})):n.children("#chat_widget_viewstatus_id").val(i.window_type+"-"+i.chat_status).change(),c.first_exec||this.setCtrlStatusFirstExec(!0)},this.doConnectingCheck=function(){var i,e=this.getChatWidget(),a=this.getWidgetData(),n=this.getInputData(),h=this.getChatStatus();i=a.getData("api_url")+"&shopId="+encodeURIComponent(n.getData("shop_id")),t.ajax({url:i,type:"GET",scriptCharaset:"utf-8",dataType:"json",cache:!1,timeout:5e3,context:{chat_widget:e,chat_status:h},success:function(t){var i=this.chat_widget,e=(this.chat_connection,this.chat_status),a=i.children("#chat_widget_chatconnecting_success_id"),n=i.children("#chat_widget_chatconnecting_failure_id"),h=i.children("#chat_widget_chatconnecting_timeout_id");t?t.status&&t.endpoint&&t.uid?(e.set("status",t.status),e.set("chatid",t.uid),e.set("endpoint",t.endpoint)):(t.status?e.set("status",t.status):e.set("status","error"),e.set("chatid",""),e.set("endpoint","")):(e.set("status","error"),e.set("chatid",""),e.set("endpoint","")),"offline"===e.get("status")?n.val(e.get("status")).change():"online"===e.get("status")?a.val(e.get("status")).change():"away"===e.get("status")||"busy"===e.get("status")?h.val(e.get("status")).change():"maintenance"===e.get("status")?n.val(e.get("status")).change():"disable"===e.get("status")?n.val(e.get("status")).change():(e.get("status"),n.val(e.get("status")).change())},error:function(){var t=this.chat_widget,i=this.chat_status,e=t.children("#chat_widget_chatconnecting_failure_id");i.set("status","error"),i.set("chatid",""),i.set("endpoint",""),e.val(i.get("status")).change()}})},this.doChangeChatStatus=function(t){var i=this.getBadgeWindow(),e=this.getChatWindow(),a=this.getChatStatus();a.set("status",t),i.setChatStatus(a),e.setChatStatus(a)}}(n)).setWidgetData(new function(){this.data={api_url:"https://gateway-api.global.rakuten.com/rchat/st/shopstatus?generateId=true&displayUrl=true",inquiry_url:"https://books.support.rakuten.ne.jp/helpdesk?category_id=70&site_domain=default",item_inquiry_url:"https://books.support.rakuten.ne.jp/helpdesk?category_id=70&site_domain=default",inquiry_param_ms:"1010",item_inquiry_param_ms:"1011"},this.getData=function(t){return this.data[t]},this.setData=function(t,i){this.data[t]=i}}),i.setImageUrlList(new function(){this.list={badge_offline:"https://r.r10s.jp/com/merchant_chat/img/btn_chat_offline_pc_2x.png",badge_online:"https://r.r10s.jp/com/merchant_chat/img/btn_chat_online_pc_2x.png",badge_away:"https://r.r10s.jp/com/merchant_chat/img/btn_chat_busy_pc_2x.png",badge_maintenance:"https://r.r10s.jp/com/merchant_chat/img/btn_chat_offline_pc_2x.png",badge_disable:"https://r.r10s.jp/com/merchant_chat/img/btn_chat_offline_pc_2x.png",chat_minimum_button:"https://r.r10s.jp/com/merchant_chat/img/close_2x_64px.png",chat_more_button:"https://r.r10s.jp/com/merchant_chat/img/more_2x_64px.png",chat_shop_icon:"https://r.r10s.jp/com/merchant_chat/img/icon_shop_2x.png",status_online:"https://r.r10s.jp/com/merchant_chat/img/status_on_2x.png",status_away:"https://r.r10s.jp/com/merchant_chat/img/status_busy_2x.png",chat_connecting:"https://r.r10s.jp/com/merchant_chat/img/connecting_2x_96px.png"},this.getUrl=function(t){return this.list[t]}}),i.setPrivacyPolicy(new function(){this.policy={accept:!1},this.getAccept=function(){return this.policy.accept},this.setAccept=function(t){this.policy.accept=t}}),i.setChatUser(new function(){this.info={name:"",subject:""},this.getChatInfo=function(t){return this.info[t]},this.setChatInfo=function(t,i){this.info[t]=i}}),i.setChatConnection(new function(){this.config={interval:5,timeout:20},this.status={id:-1,count:0,status:""},this.getConfig=function(t){return this.config[t]},this.getStatus=function(t){return this.status[t]},this.setStatus=function(t,i){this.status[t]=i},this.doIncrementCount=function(){this.status.count=this.status.count+1}}),i.setChatStatus(new function(){this.info={status:"offline",chatid:"",endpoint:"",show_flag:!1},this.get=function(t){return this.info[t]},this.set=function(t,i){this.info[t]=i}}),u.setData("shop_id",h),u.setData("shop_name",o),u.setData("item_id",s),u.setData("item_name",c),u.setData("item_number",d),u.setData("shopurl",r),u.setData("pageurl",l),i.setInputData(u),i.setBadgeWindow(new function(){this.chatWidget,this.widgetData,this.inputData,this.chatStatus,this.imageUrlList,this.getChatWidget=function(){return this.chatWidget},this.getWidgetData=function(){return this.widgetData},this.getInputData=function(){return this.inputData},this.getChatStatus=function(){return this.chatStatus},this.getImageUrlList=function(){return this.imageUrlList},this.setChatWidget=function(t){this.chatWidget=t},this.setWidgetData=function(t){this.widgetData=t},this.setInputData=function(t){this.inputData=t},this.setChatStatus=function(t){this.chatStatus=t},this.setImageUrlList=function(t){this.imageUrlList=t},this.doInit=function(){var t,i=this.getChatWidget();this.getImageUrlList(),i.append('<style type="text/css"> .chat_badge_base { display: block !important; } </style>\t<div class="chat_badge_base">  <div class="chat_body"><span>\u304a\u554f\u3044\u5408\u308f\u305b</span></div></div>'),(t=i.children(".chat_badge_base")).children(".chat_header"),t.children(".chat_body").bind("click",{badge_window:this},function(t){var i,e=t.data.badge_window,a=e.getChatWidget().children("#chat_widget_viewstatus_id");i=e.getChatStatus(),a.val("chat-"+i.get("status")).change()})},this.doShow=function(){var t=this.getChatWidget().children(".chat_badge_base"),i=this.getChatStatus(),e=(this.getImageUrlList(),!1);"offline"===i.get("status")?(t.find(".chat_body span").text("\u304a\u554f\u3044\u5408\u308f\u305b"),e=!0):"online"===i.get("status")?(t.find(".chat_body span").text("\u30c1\u30e3\u30c3\u30c8\u3067\u306e\u304a\u554f\u3044\u5408\u308f\u305b"),e=!0):"away"===i.get("status")||"busy"===i.get("status")?(t.find(".chat_body span").text("\u304a\u554f\u3044\u5408\u308f\u305b"),e=!0):"maintenance"===i.get("status")?(t.find(".chat_body span").text("\u304a\u554f\u3044\u5408\u308f\u305b"),!0===i.get("show_flag")&&(e=!0)):(i.get("status"),t.find(".chat_body span").text("\u304a\u554f\u3044\u5408\u308f\u305b"),!0===i.get("show_flag")&&(e=!0)),!0===e&&(i.set("show_flag",!0),t.show())},this.doHide=function(){this.getChatWidget().children(".chat_badge_base").hide()}}),i.setChatWindow(new function(){this.chatWidget,this.widgetData,this.inputData,this.chatStatus,this.privacyPolicy,this.chatUser,this.imageUrlList,this.chatConnection,this.reloadedChatId={id:""},this.getChatWidget=function(){return this.chatWidget},this.getWidgetData=function(){return this.widgetData},this.getInputData=function(){return this.inputData},this.getChatStatus=function(){return this.chatStatus},this.getPrivacyPolicy=function(){return this.privacyPolicy},this.getChatUser=function(){return this.chatUser},this.getImageUrlList=function(){return this.imageUrlList},this.getChatConnection=function(){return this.chatConnection},this.getReloadedChatId=function(){return this.reloadedChatId.id},this.setChatWidget=function(t){this.chatWidget=t},this.setWidgetData=function(t){this.widgetData=t},this.setInputData=function(t){this.inputData=t},this.setChatStatus=function(t){this.chatStatus=t},this.setPrivacyPolicy=function(t){this.privacyPolicy=t},this.setChatUser=function(t){this.chatUser=t},this.setImageUrlList=function(t){this.imageUrlList=t},this.setChatConnection=function(t){this.chatConnection=t},this.setReloadedChatId=function(t){this.reloadedChatId.id=t},this.doInit=function(){var t,i,e,a,n=this.getChatWidget(),h=this.getInputData(),o=this.getImageUrlList(),s='<div class="chat_chat_base" style="width:304px;height:470px;border:1px solid #BBBBBB;position:fixed;z-index:16000003;left:10px;bottom:3px;border-radius:5px 5px 5px 5px;box-shadow:0 4px 10px 0 rgba(0,0,0,0.50);display:none;overflow:hidden;-webkit-box-sizing:content-box;box-sizing:content-box;">  <div class="chat_header" style="width:304px;height:44px;border:0;background-color:#FFFFFF;text-align:center;overflow:hidden;user-select:none;-webkit-user-select:none;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;">    <div style="width:100%;height:12px;"></div>    <table border="0" cellpadding="0" cellspacing="0" style="width:304px;height:32px;table-layout:fixed;margin:0px;background:none;i">    <tr>      <td style="width:12px;height:32px;background-color:transparent;"></td>      <td style="width:32px;height:32px;overflow:hidden;vertical-align:top;margin:0;padding:0;background-color;transparent:">        <div class="btn_minimize" style="width:32px;height:32px;margin:0px 0px 0px auto;padding;0;cursor:pointer;">          <img src="'+o.getUrl("chat_minimum_button")+'" style="max-width:32px;max-height:32px;vertical-align:baseline;-ms-interpolation-mode:bicubic;">        </div>      </td>      <td class="chat_title_area" style="width:216px;height:32px;vertical-align:middle;overflow:hidden;padding:0;background-color:transparent;cursor:default;">        <div style="width:100%;height:auto;text-align:center;vertical-align:middle;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:16px;font-weight:normal;color:#000000;line-height:normal;">          <span class="chat_title" style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;color:#000000;font-size:16px;font-weight:bold;line-height:normal;">\u30b7\u30e7\u30c3\u30d7\u3078\u306e\u554f\u3044\u5408\u308f\u305b</span>        </div>      </td>      <td style="width:32px;height:32px;overflow:hidden;vertical-align:top;padding:0;background-color:transparent;">        <div class="chat_menu_area" style="width:32px;height:32px;margin:0px auto 0px 0px;padding:0;">          <div class="btn_chat_menu" style="width:32px;height:32px;cursor:pointer;">            <img src="'+o.getUrl("chat_more_button")+'" style="max-width:32px;max-height:32px;vertical-align:baseline;-ms-interpolation-mode:bicubic;">          </div>        </div>      </td>      <td style="width:12px;height:32px;background-color:transparent;"></td>    </tr>    </table>    <div class="chat_menu" style="position:absolute;right:10px;top:47px;width:205px;z-index:16000007;border-radius:4px;display:none;box-shadow: 0 2px 4px 0 rgba(225,224,224,0.50);">      <div style="position:absolute;border-style:solid;border-width:0px 8px 8px 8px;border-color:transparent transparent #EBEBEB transparent;width:0px;height:0px;top:-7px;right:10px;content:\'\';"></div>      <div class="chat_menu_balloon_allow" style="position:absolute;border-style:solid;border-width:0px 8px 8px 8px;border-color:transparent transparent #FFFFFF transparent;width:0px;height:0px;top:-6px;right:10px;content:\'\';"></div>      <ul class="chat_menu_list" style="width:calc(100% - 2px);height:95px;list-style:none;padding:1px;margin:0;background-color:#EBEBEB;text-align:left;border-radius:4px;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;border-collapse:separate !important;border-spacing:0px !important;">        <li class="chat_menu_inquiry" style="width:100%;height:46px;background-color:#FFFFFF;margin:0;padding:0;border-radius:4px 4px 0px 0px;overflow:hidden;cursor:pointer;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;border-collapse:separate !important;border-spacing:0px !important;">          <table border="0" cellspacing="0" cellpadding="0" style="width:100%;height:100%;margin:0px auto;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;border-collapse:separate !important;border-spacing:0px !important;background:none;">          <tr>            <td style="width:100%;height:46px;vertical-align:middle;text-align:left;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;border-collapse:separate !important;border-spacing:0px !important;">              <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;letter-spacing:-0.78px;color:#0F0F0F;margin-left:13px;">\u30d5\u30a9\u30fc\u30e0\u3067\u554f\u3044\u5408\u308f\u305b\u3092\u3059\u308b</span>            </td>          </tr>          </table>        </li>        <li class="chat_menu_newchat" style="width:100%;height:46px;background-color:#FFFFFF;margin:1px 0 0 0;padding:0;border-radius:0px 0px 4px 4px;overflow:hidden;cursor:pointer;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;border-collapse:separate !important;border-spacing:0px !important;">          <table border="0" cellspacing="0" cellpadding="0" style="width:100%;height:100%;margin:0px auto;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;border-collapse:separate !important;border-spacing:0px !important;background:none;">          <tr>            <td style="width:100%;height:46px;display:table-cell;vertical-align:middle;text-align:left;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;border-collapse:separate !important;border-spacing:0px !important;">              <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;letter-spacing:-0.78px;color:#0F0F0F;margin-left:13px;">\u65b0\u898f\u30c1\u30e3\u30c3\u30c8\u3092\u958b\u59cb\u3059\u308b</span>            </td>          </tr>          </table>        </li>      </ul>    </div>  </div>  <div class="chat_sub_header" style="width:304px;height:24px;border:0;background-color:#FFFFFF;text-align:center;overflow:hidden;user-select:none;-webkit-user-select:none;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;">    <table border="0" cellpadding="0" cellspacing="0" style="width:304px;height:auto;margin:0px auto;table-layout:fixed;background:none;">    <tr>      <td style="width:12px;height:100%;"></td>      <td class="chat_title_shopname_area" style="width:280px;height:100%;text-align:center;vertical-align:middle;">        <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;margin:0px;">        <tr>          <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:14px;">            <div style="width:12px;height:12px;display:inline-block;vertical-align:middle;margin:0;padding:0;line-height:14px;"><img src="'+o.getUrl("chat_shop_icon")+'" style="max-width:12px;max-height:12px;vertical-align:baseline;-ms-interpolation-mode:bicubic;"></div><div style="width:5px;display:inline-block;margin:0;padding:0;"></div><div style="display:inline-block;max-width:246px;text-align:center;vertical-align:middle;overflow:hidden;margin:0;padding:0;white-space:nowrap;text-overflow:ellipsis;line-height:14px;"><span class="chat_title_shopname" style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;color:#4D4D4D;font-size:12px;line-height:14px;">'+h.getData("shop_name")+'</span></div><div style="width:5px;display:inline-block;margin:0;padding:0;"></div><div style="width:12px;height:12px;display:inline-block;margin:0;padding:0;vertical-align:middle;line-height:14px;"><div class="chat_title_chatstatus" style="width:100%;height:100%;line-height:14px;"><img class="chat_title_chatstatus_online" src="'+o.getUrl("status_online")+'" style="display:none;max-width:12px;max-height:12px;vertical-align:baseline;-ms-interpolation-mode:bicubic;"><img class="chat_title_chatstatus_away" src="'+o.getUrl("status_away")+'" style="display:none;max-width:12px;max-height:12px;vertical-align:baseline;-ms-interpolation-mode:bicubic;"></div></div>          </td>        </tr>        </table>      </td>      <td style="width:12px;height:100%;"></td>    </tr>    </table>  </div>  <div class="chat_body" style="width:304px;height:calc(100% - 68px);background-color:#FFFFFF;overflow:hidden;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;">    <div class="chat_frame_cover" style="position:absolute;top:68px;left:0px;width:100%;height:calc(100% - 68px);z-index:16000006;display:none;overflow:hidden;background:rgba(255,255,255,0);"></div>    <div class="chat_privacy_frame" style="width:100%;height:100%;display:none;overflow:hidden;">      <div style="position:relative;overflow:hidden;width:100%;height:10px;">        <div style="position:absolute;width:100%;height:6px;top:0px;left:0px;background-color:#FFFFFF;box-shadow:0 1px 4px #E1E0E0;"></div>      </div>      <div style="width:100%;height:20px;margin:0px auto;"></div>      <div style="width:calc(100% - 40px);margin:0px auto;text-align:left;line-height:20px;">        <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#000000;letter-spacing:0;line-height:20px;">\u304a\u5ba2\u69d8\u304b\u3089\u306e\u304a\u554f\u3044\u5408\u308f\u305b\u3092\u30c1\u30e3\u30c3\u30c8\u3067\u53d7\u3051\u4ed8\u3051\u3066\u304a\u308a\u307e\u3059\u3002</span>      </div>      <div style="width:100%;height:24px;margin:0px auto;"></div>      <div style="width:calc(100% - 40px);height:24px;margin:0px auto;text-align:left;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;line-height:20px;">        <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#000000;letter-spacing:0;font-weight:bold;margin:0px;padding:0px;">\u304a\u540d\u524d</span>        <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:11px;color:#000000;letter-spacing:0;margin:0px;padding:0px;">(\u4efb\u610f) \u203b\u3053\u306e\u30c1\u30e3\u30c3\u30c8\u306b\u306e\u307f\u5229\u7528\u3055\u308c\u307e\u3059</span>      </div>      <div style="width:calc(100% - 40px);height:40px;margin:0px auto;">        <div style="width:100%;height:100%;overflow:hidden;border:1px solid #DBD9D9;background-color:#FFFFFF;border-radius:4px;text-align:center;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#000000;-webkit-box-sizing:content-box;box-sizing:content-box;">          <input type="text" name="chat_name" value="" style="width:calc(100% - 20px);height:100%;border:0;background-color:#FFFFFF;cursor:auto !important;margin:0px auto;padding:0;text-indent:0;white-space:normal;font-family:inherit;font-size:100%;color:#000000;text-align:left;outline:none;" placeholder="\u30b2\u30b9\u30c8" maxlength="18">        </div>      </div>      <div style="width:100%;height:15px;margin:0px auto;"></div>      <div style="width:calc(100% - 40px);margin:0px auto;">        <div style="width:100%;text-align:left;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:12px;line-height:16px;word-break:normal;">          <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:12px;color:#000000;letter-spacing:0;line-height:16px;">\u672c\u30c1\u30e3\u30c3\u30c8\u306f\u697d\u5929\u682a\u5f0f\u4f1a\u793e\u304c\u697d\u5929\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u30ba\u682a\u5f0f\u4f1a\u793e\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u3066\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u672c\u30c1\u30e3\u30c3\u30c8\u306e\u5185\u5bb9\u306f\u3001\u304a\u5ba2\u69d8\u5bfe\u5fdc\u306e\u54c1\u8cea\u5411\u4e0a\u30fb\u4e8b\u5b9f\u78ba\u8a8d\u7b49\u3092\u76ee\u7684\u3068\u3057\u3066\u8a18\u9332\u30fb\u78ba\u8a8d\u3055\u308c\u3001\u6cd5\u4ee4\u306b\u57fa\u3065\u304f\u7167\u4f1a\u306b\u5fdc\u3058\u3066\u958b\u793a\u3055\u308c\u308b\u5834\u5408\u304c\u3054\u3056\u3044\u307e\u3059\u3002\u5185\u5bb9\u306b\u540c\u610f\u306e\u3046\u3048\u3001\u30c1\u30e3\u30c3\u30c8\u3092\u958b\u59cb\u3057\u3066\u304f\u3060\u3055\u3044\u3002</span>        </div>      </div>      <div style="width:100%;height:12px;margin:0px auto;"></div>      <div class="btn_chat_start" style="width:calc(100% - 40px);height:46px;margin:0px auto;background-color:#BF0000;border-radius:4px;cursor:pointer;">        <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">        <tr>          <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:16px;border-radius:4px;background-color:#BF0000;">            <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u30c1\u30e3\u30c3\u30c8\u3092\u958b\u59cb\u3059\u308b</span>          </td>        </tr>        </table>      </div>    </div>    <div class="chat_offline_frame" style="width:100%;height:100%;display:none;overflow:hidden;">      <div style="position:relative;overflow:hidden;width:100%;height:10px;">        <div style="position:absolute;width:100%;height:6px;top:0px;left:0px;background-color:#FFFFFF;box-shadow:0 1px 4px #E1E0E0;"></div>      </div>      <div style="width:100%;height:20px;margin:0px auto"></div>      <div style="width:calc(100% - 40px);margin:0px auto;text-align:left;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;line-height:20px;word-break:normal;">        <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#000000;letter-spacing:0;line-height:20px;">\u305f\u3060\u4eca\u306e\u6642\u9593\u3001\u30d5\u30a9\u30fc\u30e0\u3088\u308a\u554f\u3044\u5408\u308f\u305b\u3092\u53d7\u3051\u3064\u3051\u3066\u304a\u308a\u307e\u3059\u3002\u4e0b\u8a18\u3088\u308a\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002<span>      </div>      <div style="width:100%;height:20px;margin:0px auto;"></div>      <div class="btn_inquiry" style="width:calc(100% - 40px);height:46px;margin:0px auto;background-color:#BF0000;border-radius:4px;cursor:pointer;">        <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">        <tr>          <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:16px;">            <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u554f\u3044\u5408\u308f\u305b\u308b</span>          </td>        </tr>        </table>      </div>    </div>    <div class="chat_maintenance_frame" style="width:100%;height:100%;display:none;overflow:hidden;">      <div style="position:relative;overflow:hidden;width:100%;height:10px;">        <div style="position:absolute;width:100%;height:6px;top:0px;left:0px;background-color:#FFFFFF;box-shadow:0 1px 4px #E1E0E0;"></div>      </div>      <div style="width:100%;height:20px;margin:0px auto;"></div>      <div style="width:calc(100% - 40px);margin:0px auto;text-align:left;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;line-height:20px;word-break:normal;">        <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#000000;letter-spacing:0;line-height:20px;">\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u3002\u73fe\u5728\u3001\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3092\u884c\u3063\u3066\u304a\u308a\u307e\u3059\u3002\u304a\u624b\u6570\u3067\u3059\u304c\u30d5\u30a9\u30fc\u30e0\u306b\u3066\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002</span>      </div>      <div style="width:100%;height:20px;margin:0px auto;"></div>      <div class="btn_inquiry" style="width:calc(100% - 40px);height:46px;margin:0px auto;background-color:#BF0000;border-radius:4px;cursor:pointer;">        <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">        <tr>          <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:16px;">            <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u554f\u3044\u5408\u308f\u305b\u308b</span>          </td>        </tr>        </table>      </div>    </div>    <div class="chat_online_frame" style="width:100%;height:100%;display:none;overflow:hidden;"></div>    <div class="chat_connecting_frame" style="position:absolute;top:68px;left:0px;width:100%;height:calc(100% - 68px);z-index:16000004;display:none;overflow:hidden;background:rgba(255,255,255,0)">      <div style="position:relative;overflow:hidden;width:100%;height:10px;">        <div style="position:absolute;width:100%;height:6px;top:0px;left:0px;background-color:#FFFFFF;box-shadow:0 1px 4px #E1E0E0;"></div>      </div>      <div style="width:100%;height:4px;"></div>      <div style="width:calc(100% - 16px);height:calc(100% - 14px);overflow:hidden;background-color:#FFFFFF;margin:0px auto;">        <div style="width:100%;height:32px;"></div>        <div style="width:74%;margin:0px auto;">          <div style="width:100%;text-align:left;margin:0px;">            <h3 style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;font-weight:normal;color:#000000;letter-spacing:0;line-height:20px;margin:0;padding:0;">\u30b7\u30e7\u30c3\u30d7\u3078\u9023\u7d61\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u307e\u3061\u304f\u3060\u3055\u3044\u3002\u6df7\u96d1\u72b6\u6cc1\u306b\u3088\u308a\u304a\u6642\u9593\u3092\u3044\u305f\u3060\u304f\u5834\u5408\u304c\u3054\u3056\u3044\u307e\u3059\u3002</h3>          </div>          <div style="width:100%;height:50px;"></div>          <div style="width:48px;height:48px;background:url('+o.getUrl("chat_connecting")+') no-repeat center center transparent;background-size:48px 48px;margin:0px auto;-webkit-animation:spin .5s linear infinite;animation:rchatspin .5s linear infinite;"></div>        </div>      </div>    </div>    <div class="chat_connecting_failure_frame" style="position:absolute;top:68px;left:0px;width:100%;height:calc(100% - 68px);z-index:16000005;display:none;overflow:hidden;background:rgba(255,255,255,0)">      <div style="width:100%;height:18px;background-color:transparent;"></div>      <div style="width:calc(100% - 16px);height:calc(100% - 26px);margin:0px auto;ovrflow:hidden;background-color:rgba(0,0,0,0.7);border-radius:4px;">        <div style="width:100%;height:39px;"></div>        <div style="width:254px;margin:0px auto;text-align:left;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;line-height:20px;word-break:normal;">          <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;line-height:20px;">\u5927\u5909\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u3002\u63a5\u7d9a\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002</span>        </div>        <div style="width:100%;height:13px;"></div>        <div class="btn_finish_chat" style="width:254px;height:44px;margin:0px auto;border:1px solid #FFFFFF;border-radius:3px 3px 3px 3px;cursor:pointer;user-select:none;-webkit-user-select:none;-webkit-box-sizing:content-box;box-sizing:content-box;">          <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">          <tr>            <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:22px;-webkit-box-sizing:content-box;box-sizing:content-box;">              <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u7d42\u4e86\u3059\u308b</span>            </td>          </tr>          </table>        </div>        <div style="width:100%;height:12px;"></div>        <div class="btn_inquiry" style="width:254px;height:44px;margin:0px auto;border:1px solid #FFFFFF;border-radius:3px 3px 3px 3px;cursor:pointer;user-select:none;-webkit-user-select:none;-webkit-box-sizing:content-box;box-sizing:content-box;">          <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">          <tr>            <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:22px;-webkit-box-sizing:content-box;box-sizing:content-box;">              <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u554f\u3044\u5408\u308f\u305b\u308b</span>            </td>          </tr>          </table>        </div>      </div>    </div>    <div class="chat_connecting_timeout_frame" style="position:absolute;top:68px;left:0px;width:100%;height:calc(100% - 68px);z-index:16000005;display:none;overflow:hidden;background:rgba(255,255,255,0);">      <div style="width:100%;height:18px;background-color:transparent;"></div>      <div style="width:calc(100% - 16px);height:calc(100% - 26px);margin:0px auto;overflow:hidden;background-color:rgba(0,0,0,0.7);border-radius:4px;">        <div style="width:100%;height:39px;"></div>        <div style="width:254px;margin:0px auto;text-align:left;font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;line-height:20px;word-break:normal;">          <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;line-height:20px;">\u304a\u5f85\u305f\u305b\u3057\u3066\u5927\u5909\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u3002\u305f\u3060\u3044\u307e\u5927\u5909\u6df7\u96d1\u3057\u3066\u304a\u308a\u3001\u5fdc\u7b54\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u304a\u308a\u307e\u3059\u3002</span>        </div>        <div style="width:100%;height:13px;"></div>        <div class="btn_keep_chatconnecting" style="width:254px;height:44px;margin:0px auto;border:1px solid #FFFFFF;border-radius:3px 3px 3px 3px;cursor:pointer;user-select:none;-webkit-user-select:none;-webkit-box-sizing:content-box;box-sizing:content-box;">          <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">          <tr>            <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:22px;-webkit-box-sizing:content-box;box-sizing:content-box;">              <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u3053\u306e\u307e\u307e\u7d9a\u3051\u308b</span>            </td>          </tr>          </table>        </div>        <div style="width:100%;height:12px;"></div>        <div class="btn_finish_chat" style="width:254px;height:44px;margin:0px auto;border:1px solid #FFFFFF;border-radius:3px 3px 3px 3px;cursor:pointer;user-select:none;-webkit-user-select:none;-webkit-box-sizing:content-box;box-sizing:content-box;">          <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">          <tr>            <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:22px;-webkit-box-sizing:content-box;box-sizing:content-box;">              <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u7d42\u4e86\u3059\u308b</span>            </td>          </tr>          </table>        </div>        <div style="width:100%;height:12px;"></div>        <div class="btn_inquiry" style="width:254px;height:44px;margin:0px auto;border:1px solid #FFFFFF;border-radius:3px 3px 3px 3px;cursor:pointer;user-select:none;-webkit-user-select:none;-webkit-box-sizing:content-box;box-sizing:content-box;">          <table border="0" cellpadding="0" cellspacing="0" style="width:100%;height:100%;background:none;">          <tr>            <td style="width:100%;height:100%;text-align:center;vertical-align:middle;line-height:22px;-webkit-box-sizing:content-box;box-sizing:content-box;">              <span style="font-family:\'Meiryo\',\'Hiragino Kaku Gothic ProN\',\'MS PGothic\',sans-serif;font-size:14px;color:#FFFFFF;letter-spacing:0;">\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u554f\u3044\u5408\u308f\u305b\u308b</span>            </td>          </tr>          </table>        </div>      </div>    </div>  </div></div>';n.append(s),i=(t=n.children(".chat_chat_base")).children(".chat_header"),e=t.children(".chat_sub_header"),a=t.children(".chat_body"),i.find(".chat_title_area").bind("click",{chat_window:this},function(t){var i=t.data.chat_window.getChatWidget().children(".chat_chat_base"),e=i.children(".chat_header").children(".chat_menu"),a=i.children(".chat_body").children(".chat_frame_cover");"none"!==e.css("display")&&(a.hide(),e.hide())}),i.find(".btn_minimize").bind("click",{chat_window:this},function(t){var i,e=t.data.chat_window,a=e.getChatWidget(),n=a.children(".chat_chat_base"),h=n.children(".chat_header").children(".chat_menu"),o=n.children(".chat_body").children(".chat_frame_cover"),s=a.children("#chat_widget_viewstatus_id");"none"!==h.css("display")&&(o.hide(),h.hide()),i=e.getChatStatus(),s.val("badge-"+i.get("status")).change()}),i.find(".chat_menu_area").find(".btn_chat_menu").bind("click",{chat_window:this},function(t){var i=t.data.chat_window.getChatWidget().children(".chat_chat_base"),e=i.children(".chat_header").children(".chat_menu"),a=i.children(".chat_body").children(".chat_frame_cover");"none"===e.css("display")?(a.show(),e.find(".chat_menu_balloon_allow").css({"border-color":"transparent transparent #FFFFFF transparent"}),e.find(".chat_menu_inquiry").css({"background-color":"#FFFFFF",color:"#0F0F0F"}),e.find(".chat_menu_newchat").css({"background-color":"#FFFFFF",color:"#0F0F0F"}),e.show()):(a.hide(),e.hide())}),i.find(".chat_menu").find(".chat_menu_inquiry").bind("click",{chat_window:this},function(t){var i,e,a=t.data.chat_window,n=a.getChatWidget().children(".chat_chat_base"),h=n.children(".chat_header"),o=n.children(".chat_body"),s=a.getWidgetData(),c=a.getInputData(),d={};for(e in c.getData("item_id")?(i=s.getData("item_inquiry_url"),d={shop_id:c.getData("shop_id"),shop_name:c.getData("shop_name"),item_id:c.getData("item_id"),item_name:c.getData("item_name"),item_number:c.getData("item_number"),shopurl:c.getData("shopurl"),pageurl:c.getData("pageurl")}):(i=s.getData("inquiry_url"),d={shop_id:c.getData("shop_id"),ms:s.getData("inquiry_param_ms")}),d)"string"!=typeof d[e]&&"number"!=typeof d[e]||(i+="&"+e+"="+encodeURIComponent(d[e]));h.children(".chat_menu").hide(),o.children(".chat_frame_cover").hide(),window.open(i,"_blank")}),i.find(".chat_menu").find(".chat_menu_inquiry").bind("mouseover",{chat_window:this},function(t){var i=t.data.chat_window.getChatWidget().children(".chat_chat_base").children(".chat_header").children(".chat_menu");i.find(".chat_menu_balloon_allow").css({"border-color":"transparent transparent #F7F7F7 transparent"}),i.find(".chat_menu_inquiry").css({"background-color":"#F7F7F7"})}),i.find(".chat_menu").find(".chat_menu_inquiry").bind("mouseout",{chat_window:this},function(t){var i=t.data.chat_window.getChatWidget().children(".chat_chat_base").children(".chat_header").children(".chat_menu");i.find(".chat_menu_balloon_allow").css({"border-color":"transparent transparent #FFFFFF transparent"}),i.find(".chat_menu_inquiry").css({"background-color":"#FFFFFF"})}),i.find(".chat_menu").find(".chat_menu_newchat").bind("click",{chat_window:this},function(t){var i=t.data.chat_window,e=i.getChatWidget(),a=e.children(".chat_chat_base"),n=a.children(".chat_header"),h=a.children(".chat_body"),o=e.children("#chat_widget_newchat_event_id"),s=i.getChatConnection();"running"===s.getStatus("status")&&(clearInterval(s.getStatus("id")),s.setStatus("status","finish")),n.children(".chat_menu").hide(),h.children(".chat_frame_cover").hide(),o.val("").change()}),i.find(".chat_menu").find(".chat_menu_newchat").bind("mouseover",{chat_window:this},function(t){t.data.chat_window.getChatWidget().children(".chat_chat_base").children(".chat_header").children(".chat_menu").find(".chat_menu_newchat").css({"background-color":"#F7F7F7"})}),i.find(".chat_menu").find(".chat_menu_newchat").bind("mouseout",{chat_window:this},function(t){t.data.chat_window.getChatWidget().children(".chat_chat_base").children(".chat_header").children(".chat_menu").find(".chat_menu_newchat").css({"background-color":"#FFFFFF"})}),e.find(".chat_title_shopname_area").bind("click",{chat_window:this},function(t){var i=t.data.chat_window.getChatWidget().children(".chat_chat_base"),e=i.children(".chat_header").children(".chat_menu"),a=i.children(".chat_body").children(".chat_frame_cover");"none"!==e.css("display")&&(a.hide(),e.hide())}),a.children(".chat_frame_cover").bind("click",{chat_window:this},function(t){var i=t.data.chat_window.getChatWidget().children(".chat_chat_base"),e=i.children(".chat_header").children(".chat_menu"),a=i.children(".chat_body").children(".chat_frame_cover");"none"!==e.css("display")&&(a.hide(),e.hide())}),a.children(".chat_offline_frame").children(".btn_inquiry").bind("click",{chat_window:this},function(t){var i,e,a=t.data.chat_window,n=a.getWidgetData(),h=a.getInputData(),o={};for(e in h.getData("item_id")?(i=n.getData("item_inquiry_url"),o={shop_id:h.getData("shop_id"),shop_name:h.getData("shop_name"),item_id:h.getData("item_id"),item_name:h.getData("item_name"),item_number:h.getData("item_number"),shopurl:h.getData("shopurl"),pageurl:h.getData("pageurl")}):(i=n.getData("inquiry_url"),o={shop_id:h.getData("shop_id"),ms:n.getData("inquiry_param_ms")}),o)"string"!=typeof o[e]&&"number"!=typeof o[e]||(i+="&"+e+"="+encodeURIComponent(o[e]));window.open(i,"_blank")}),a.children(".chat_maintenance_frame").children(".btn_inquiry").bind("click",{chat_window:this},function(t){var i,e,a=t.data.chat_window,n=a.getWidgetData(),h=a.getInputData(),o={};for(e in h.getData("item_id")?(i=n.getData("item_inquiry_url"),o={shop_id:h.getData("shop_id"),shop_name:h.getData("shop_name"),item_id:h.getData("item_id"),item_name:h.getData("item_name"),item_number:h.getData("item_number"),shopurl:h.getData("shopurl"),pageurl:h.getData("pageurl")}):(i=n.getData("inquiry_url"),o={shop_id:h.getData("shop_id"),ms:n.getData("inquiry_param_ms")}),o)"string"!=typeof o[e]&&"number"!=typeof o[e]||(i+="&"+e+"="+encodeURIComponent(o[e]));window.open(i,"_blank")}),a.children(".chat_privacy_frame").children(".btn_chat_start").bind("click",{chat_window:this},function(t){var i,e,a=t.data.chat_window,n=a.getChatWidget(),h=n.children(".chat_chat_base").children(".chat_body").children(".chat_privacy_frame"),o=n.children("#chat_widget_chatstart_event_id"),s=a.getChatUser(),c=a.getPrivacyPolicy(),d=a.getChatConnection();a.getChatStatus(),(i=h.find("input[name=chat_name]").val())?s.setChatInfo("name",i):s.setChatInfo("name","\u30b2\u30b9\u30c8"),c.setAccept(!0),o.val("").change(),d.setStatus("count",0),e=setInterval(function t(){var i=a.chatWidget.children("#chat_widget_chatconnecting_event_id");if(0===d.getStatus("count"))d.setStatus("status","running");else if("timeout"===d.getStatus("status")||"finish"===d.getStatus("status"))return e?void clearInterval(e):void 0;return d.setStatus("id",e),d.getConfig("interval")*d.getStatus("count")<d.getConfig("timeout")?(i.val("").change(),t):(i.val("").change(),clearInterval(d.getStatus("id")),void d.setStatus("status","timeout"))}(),1e3*d.getConfig("interval"))}),a.children(".chat_connecting_failure_frame").find(".btn_finish_chat").bind("click",{chat_window:this},function(t){var i=t.data.chat_window,e=i.getChatWidget(),a=e.children(".chat_chat_base").children(".chat_body").children(".chat_connecting_failure_frame"),n=e.children("#chat_widget_newchat_event_id"),h=i.getChatConnection();"running"===h.getStatus("status")&&(clearInterval(h.getStatus("id")),h.setStatus("status","finish")),a.hide(),n.val("").change()}),a.children(".chat_connecting_failure_frame").find(".btn_inquiry").bind("click",{chat_window:this},function(t){var i,e,a=t.data.chat_window,n=a.getWidgetData(),h=a.getInputData(),o={};for(e in h.getData("item_id")?(i=n.getData("item_inquiry_url"),o={shop_id:h.getData("shop_id"),shop_name:h.getData("shop_name"),item_id:h.getData("item_id"),item_name:h.getData("item_name"),item_number:h.getData("item_number"),shopurl:h.getData("shopurl"),pageurl:h.getData("pageurl")}):(i=n.getData("inquiry_url"),o={shop_id:h.getData("shop_id"),ms:n.getData("inquiry_param_ms")}),o)"string"!=typeof o[e]&&"number"!=typeof o[e]||(i+="&"+e+"="+encodeURIComponent(o[e]));window.open(i,"_blank")}),a.children(".chat_connecting_timeout_frame").find(".btn_keep_chatconnecting").bind("click",{chat_window:this},function(t){var i,e=t.data.chat_window,a=e.getChatWidget().children(".chat_chat_base").children(".chat_body").children(".chat_connecting_timeout_frame"),n=e.getChatConnection();n.setStatus("count",0),i=setInterval(function t(){var a=e.chatWidget.children("#chat_widget_chatconnecting_event_id");if(0===n.getStatus("count"))n.setStatus("status","running");else if("timeout"===n.getStatus("status")||"finish"===n.getStatus("status"))return i?void clearInterval(i):void 0;return n.setStatus("id",i),n.getConfig("interval")*n.getStatus("count")<n.getConfig("timeout")?(a.val("").change(),t):(a.val("").change(),clearInterval(n.getStatus("id")),void n.setStatus("status","timeout"))}(),1e3*n.getConfig("interval")),a.hide()}),a.children(".chat_connecting_timeout_frame").find(".btn_finish_chat").bind("click",{chat_window:this},function(t){var i=t.data.chat_window,e=i.getChatWidget(),a=e.children(".chat_chat_base").children(".chat_body").children(".chat_connecting_timeout_frame"),n=e.children("#chat_widget_newchat_event_id"),h=i.getChatConnection();"running"===h.getStatus("status")&&(clearInterval(h.getStatus("id")),h.setStatus("status","finish")),a.hide(),n.val("").change()}),a.children(".chat_connecting_timeout_frame").find(".btn_inquiry").bind("click",{chat_window:this},function(t){var i,e,a=t.data.chat_window,n=a.getWidgetData(),h=a.getInputData(),o={};for(e in h.getData("item_id")?(i=n.getData("item_inquiry_url"),o={shop_id:h.getData("shop_id"),shop_name:h.getData("shop_name"),item_id:h.getData("item_id"),item_name:h.getData("item_name"),item_number:h.getData("item_number"),shopurl:h.getData("shopurl"),pageurl:h.getData("pageurl")}):(i=n.getData("inquiry_url"),o={shop_id:h.getData("shop_id"),ms:n.getData("inquiry_param_ms")}),o)"string"!=typeof o[e]&&"number"!=typeof o[e]||(i+="&"+e+"="+encodeURIComponent(o[e]));window.open(i,"_blank")})},this.doShow=function(t){var i,a,n=this.getChatWidget().children(".chat_chat_base"),h=n.children(".chat_header"),o=n.children(".chat_sub_header"),s=n.children(".chat_body"),c=s.children(".chat_privacy_frame"),d=s.children(".chat_online_frame"),r=s.children(".chat_offline_frame"),l=s.children(".chat_maintenance_frame"),g=s.children(".chat_connecting_frame"),u=s.children(".chat_connecting_failure_frame"),p=s.children(".chat_connecting_timeout_frame"),_=o.find(".chat_title_shopname_area").find(".chat_title_chatstatus"),m=_.children(".chat_title_chatstatus_online"),f=_.children(".chat_title_chatstatus_away"),w=h.find(".chat_menu_area"),x=(this.getWidgetData(),this.getInputData(),this.getChatUser()),b=this.getChatStatus(),y=this.getPrivacyPolicy(),v=(this.getImageUrlList(),!1);"offline"===b.get("status")||"away"===b.get("status")||"busy"===b.get("status")||"maintenance"===b.get("status")||"disable"===b.get("status")?(m.hide(),f.hide(),w.hide(),d.hide(),l.hide(),g.hide(),u.hide(),p.hide(),r.show(),v=!0):"online"===b.get("status")?(m.show(),f.hide(),!0===y.getAccept()?(!0===t&&(d.append('<iframe name="chat_iframe" frameborder="0" width="100%" height="100%" scrolling="no" id="innerWidgetFrame" style="position:static;width:100%;height:100%;overflow:hidden;box-shadow:none;"></iframe>'),i=d.children('iframe[name="chat_iframe"]'),a=b.get("chatid"),i[0].contentWindow.location.replace("https:"+b.get("endpoint")+"?chatId="+encodeURIComponent(a)+"&name="+encodeURIComponent(x.getChatInfo("name")+"\u3055\u307e")+"&subject="+encodeURIComponent(x.getChatInfo("subject"))+"&im_name="+encodeURIComponent(x.getChatInfo("name")+"\u3055\u307e")+"&im_subject="+encodeURIComponent(x.getChatInfo("subject"))),this.setReloadedChatId(a),g.hide(),new e(a).doSend("click",b.get("status"))),w.show(),c.hide(),r.hide(),l.hide(),"none"===g.css("display")&&"none"===u.css("display")&&"none"===p.css("display")&&d.show()):(w.hide(),r.hide(),l.hide(),d.hide(),g.hide(),u.hide(),p.hide(),c.show()),v=!0):(m.hide(),f.hide(),w.hide(),d.hide(),l.hide(),g.hide(),u.hide(),p.hide(),r.show(),v=!0),!0===v&&(b.set("show_flag",!0),n.show())},this.doHide=function(){this.getChatWidget().children(".chat_chat_base").hide()},this.doStartChat=function(){var t=this.getChatWidget().children(".chat_chat_base"),i=(t.children(".chat_header"),t.children(".chat_body")),e=i.children(".chat_privacy_frame"),a=i.children(".chat_online_frame"),n=i.children(".chat_offline_frame"),h=i.children(".chat_maintenance_frame"),o=i.children(".chat_connecting_frame");e.hide(),n.hide(),a.hide(),h.hide(),o.show()},this.doReloadChat=function(){var t=this.getChatWidget().children(".chat_chat_base"),i=t.children(".chat_header"),e=t.children(".chat_body"),a=e.children(".chat_privacy_frame"),n=e.children(".chat_online_frame"),h=e.children(".chat_offline_frame"),o=e.children(".chat_maintenance_frame"),s=e.children(".chat_connecting_frame"),c=e.children(".chat_connecting_failure_frame"),d=e.children(".chat_connecting_timeout_frame"),r=i.find(".chat_menu_area"),l=(n.children('iframe[name="chat_iframe"]'),this.getPrivacyPolicy()),g=this.getChatUser(),u=this.getChatStatus();"online"===u.get("status")?(l.setAccept(!1),a.find("input[name=chat_name]").val(g.getChatInfo("name")),r.hide(),h.hide(),o.hide(),n.hide(),n.empty(),s.hide(),c.hide(),d.hide(),a.show()):"away"!==u.get("status")&&"busy"!==u.get("status")||(l.setAccept(!1),a.find("input[name=chat_name]").val(g.getChatInfo("name")),r.hide(),h.hide(),o.hide(),n.hide(),n.empty(),s.hide(),c.hide(),d.hide(),a.show())},this.doShowChatConnectiongFailure=function(){var t=this.getChatWidget().children(".chat_chat_base"),i=t.children(".chat_sub_header"),e=t.children(".chat_body").children(".chat_connecting_failure_frame"),a=i.find(".chat_title_shopname_area").find(".chat_title_chatstatus"),n=a.children(".chat_title_chatstatus_online"),h=a.children(".chat_title_chatstatus_away"),o=this.getChatStatus();"offline"===o.get("status")?(n.hide(),h.hide()):"online"===o.get("status")?(h.hide(),n.show()):"away"===o.get("status")||"busy"===o.get("status")?(n.hide(),h.show()):"maintenance"===o.get("status")?(n.hide(),h.hide()):(o.get("status"),n.hide(),h.hide()),e.show()},this.doShowChatConnectingTimeout=function(){var t=this.getChatWidget().children(".chat_chat_base"),i=t.children(".chat_sub_header"),e=t.children(".chat_body").children(".chat_connecting_timeout_frame"),a=i.find(".chat_title_shopname_area").find(".chat_title_chatstatus"),n=a.children(".chat_title_chatstatus_online"),h=a.children(".chat_title_chatstatus_away"),o=this.getChatStatus();"offline"===o.get("status")?(n.hide(),h.hide()):"online"===o.get("status")?(h.hide(),n.show()):"away"===o.get("status")||"busy"===o.get("status")?(n.hide(),h.show()):"maintenance"===o.get("status")?(n.hide(),h.hide()):(o.get("status"),n.hide(),h.hide()),e.show()},this.getChatId=function(){var t=this.getReloadedChatId();return t||""}}),i.doInit(),a.window_loaded=!0)}),t(window).scroll(function(){var e,n,h,o=300;!0===a.window_loaded&&!0===(e=i.getCtrlStatus()).init&&!0!==e.first_exec&&((n=t("body").height())<(h=t(window).height())?o=0:n>=h&&n<h+o&&(o=n-h),t(window).scrollTop()>=o&&i.doExecute({use_api:!0,window_type:"badge",chat_status:"",rat_info:{send:!0,operation:"appear"}}))})})}(window.jQuery)}]);
//# sourceMappingURL=rchat_widget.min.js.map